FROM node:12.13.0-alpine

WORKDIR /home/node/app

ARG NODE_ENV
ENV NODE_ENV=${NODE_ENV}

ARG ENV_PORT
ENV ENV_PORT=${ENV_PORT}

ARG MONGODB_HOST
ENV MONGODB_HOST=${MONGODB_HOST}

ARG MONGODB_DATABASE
ENV MONGODB_DATABASE=${MONGODB_DATABASE}

ARG MONGODB_USERNAME
ENV MONGODB_USERNAME=${MONGODB_USERNAME}

ARG MONGODB_PASSWORD
ENV MONGODB_PASSWORD=${MONGODB_PASSWORD}

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 3000


CMD [ "node", "app.js" ]